source:
  kind: SealedSecret
  name: rbc-api-mongodb-staging
  # Omitting fieldPath uses source.name by default
targets:
- select:
    kind: Deployment
  fieldPaths:
  - spec.template.spec.containers.[name=mongodb].env.[name=MONGODB_EXTRA_PASSWORDS].valueFrom.secretKeyRef.name
  - spec.template.spec.containers.[name=mongodb].env.[name=MONGODB_ROOT_PASSWORD].valueFrom.secretKeyRef.name
  - spec.template.spec.containers.[name=rbc-api].env.[name=RBC_MONGODB_PASSWORD].valueFrom.secretKeyRef.name